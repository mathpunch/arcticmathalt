const urlBar=document.querySelector("#urlBar"),siteUrl=document.querySelector("#siteurl"),urlInput=document.querySelector("#urlInput"),menu=document.getElementById("menuDialog");let encodedUrl=localStorage.getItem("agUrl");var selectedTheme=localStorage.getItem("selectedOption"),bgUrl=localStorage.getItem("bgUrl");Object.defineProperty(siteUrl,"src",{set:function(value){this.setAttribute("src",value),this.dispatchEvent(new Event("srcchange"))}}),urlInput.value=Ultraviolet.codec.xor.decode(encodedUrl),urlInput.style.color="rgba(100, 100, 100, 0.973)",selectedTheme==="deepsea"?urlBar.style.background="rgb(6, 22, 35)":selectedTheme==="equinox"?urlBar.style.backgroundImage="url('/assets/img/topographic_splash.webp')":selectedTheme==="swamp"?urlBar.style.background="rgb(12, 43, 22)":selectedTheme==="ocean"?urlBar.style.background="rgb(2, 59, 57)":selectedTheme==="starry"?urlBar.style.background="rgb(63, 3, 53)":selectedTheme==="magma"?urlBar.style.background="rgb(53, 1, 1)":selectedTheme==="sunset"?urlBar.style.background="rgb(53, 52, 1)":selectedTheme==="midnight"?urlBar.style.background="rgb(27, 27, 27)":selectedTheme===null?urlBar.style.background="rgb(6, 22, 35)":urlBar.style.background="rgb(6, 22, 35)";var devToolsLoaded=!1;function devTools(){var siteIframe=document.getElementById("siteurl");if(siteIframe){var innerDoc=siteIframe.contentDocument||siteIframe.contentWindow.document,eruda=innerDoc.getElementById("eruda");if(devToolsLoaded)eruda&&eruda.remove();else if(!eruda){var erudaScript=document.createElement("script");erudaScript.src="//cdn.jsdelivr.net/npm/eruda",erudaScript.onload=function(){var initScript=document.createElement("script");initScript.innerHTML="eruda.init();eruda.show();",innerDoc.head.appendChild(initScript)},innerDoc.head.appendChild(erudaScript)}devToolsLoaded=!devToolsLoaded}else console.error("Failed to load DevTools!")}function openWindow(){function openTabWithIframe(url){const newTab=window.open("about:blank","_blank");if(newTab){const iframe=document.createElement("iframe");iframe.id="siteurl",iframe.src=url,iframe.style.position="fixed",iframe.style.inset="0px",iframe.style.outline="none",iframe.style.border="none",iframe.style.height="100%",iframe.style.width="100%",iframe.style.overflow="hidden",newTab.document.body.appendChild(iframe)}else console.error("Failed to open a new tab.")}const abFrame=document.getElementById("siteurl"),currentSrc=abFrame.contentWindow.location.href,targetUrl=currentSrc;openTabWithIframe(targetUrl),location.href="https://duckduckgo.com"}var iframe=siteUrl;function toggleFs(){document.fullscreenElement?document.exitFullscreen():iframe.requestFullscreen().catch(err=>{console.error(`Error attempting to enable full-screen mode: ${err.message}`)})}function hideBar(){urlBar.style.display="none",siteUrl.style.height="100vh",menu.style.display="none"}function reload(){iframe.contentWindow.location.reload()}function forward(){iframe.contentWindow.history.go(1)}function back(){iframe.contentWindow.history.go(-1)}function exit(){location.href="/"}var more=document.getElementById("more");more.addEventListener("click",function(){var menu=document.getElementById("menuDialog");menu.style.display==="block"?menu.style.display="none":menu.style.display="block"});function onFrameClick(){document.getElementById("siteurl").contentWindow&&(document.getElementById("siteurl").contentWindow.addEventListener("click",frameClicked),document.getElementById("siteurl").contentWindow.addEventListener("touchend",frameClicked))}function frameClicked(){document.getElementById("menuDialog").style.display="none"}document.addEventListener("DOMContentLoaded",function(){onFrameClick(),setInterval(onFrameClick,1e3)}),document.getElementById("siteurl").addEventListener("load",updateTabUrl)
